(this["webpackJsonpreact-hooks-movie"]=this["webpackJsonpreact-hooks-movie"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},20:function(e){e.exports=JSON.parse('[{"id":"b28c1181-3ce0-4a2e-b44a-2e87bac90921","title":"Kingsglaive","subtitle":"Final Fantasy XV","description":"King Regis, who oversees the land of Lucis, commands his army of soldiers to protect the kingdom from the Niflheim empire\'s plans to steal the sacred crystal.","imageUrl":"./Kingsglaive_Final_Fantasy_XV.jpg","ratings":[2,4,5,1,2]},{"id":"0e7b012f-f342-4a45-b7f5-86c85f3fc3af","title":"Final Fantasy","subtitle":"Spirits Within","description":"A scientist makes a last stand on Earth with the help of a ragtag team of soldiers against an invasion of alien phantoms.","imageUrl":"./Final_Fantasy_Spirits_Within.jpg","ratings":[4,5,3]},{"id":"0ed0dd3d-8816-4ee5-aa07-c52b4ea30ce0","title":"Ghost In The Shell","subtitle":"Ghost In The Shell","description":"A hacker known as the Puppet Master is hunted by a female cyborg cop and her partner. This film is a revised version of Ghost in the Shell (1995).","imageUrl":"./Ghost_In_The_Shell_2_0.jpg","ratings":[3,5,2,4]},{"id":"4cc30aa5-ebc1-444c-8e5a-718fc8eb1619","title":"Appleseed Alpha","subtitle":"Appleseed Alpha","description":"A young female soldier Deunan and her cyborg partner Briareos survive through the post World War 3 apocalyptic New York in search of human\'s future hope, the legendary city of Olympus.","imageUrl":"./Appleseed_Alpha.jpg","ratings":[2,4,3,2]},{"id":"27621b97-26b4-4f9b-b13f-66dee4606134","title":"Resident Evil","subtitle":"Vendetta","description":"Chris Redfield enlists the help of Leon S. Kennedy and Rebecca Chambers to stop a death merchant, with a vengeance, from spreading a deadly virus in New York.","imageUrl":"./Resident_Evil_Vendetta.jpg","ratings":[5,2,4,3]}]')},21:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(10),c=n.n(r),s=(n(15),n(16),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))}),o=(n(17),n(0));function l(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.children,i=e.className,r=e.style,c="mx-1 btn btn-".concat(void 0===r?"primary":r)+(i?" "+i:"");return Object(o.jsx)("button",{type:"button",className:c,onClick:function(e){e.preventDefault(),n()},children:a})}function d(e){var t=e.children;return Object(o.jsx)("div",{className:"movie-card",children:Object(o.jsx)("div",{className:"movie-card card",children:t})})}var u=function(e){return Object(o.jsx)("nav",{className:"header navbar navbar-dark bg-dark",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row m-auto",children:[Object(o.jsx)("i",{className:"fa fa-film fa-2x text-white my-auto"}),Object(o.jsx)("div",{className:"h3 ml-3 my-auto text-light",children:e.title})]})})})};function j(e){var t=e.name,n=e.value,a=e.setter,i=e.type,r=void 0===i?"text":i;return Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"text-capitalize",htmlFor:t,children:t}),Object(o.jsx)("input",{type:r,name:t,className:"form-control",id:t,"aria-describedby":t+"Help",placeholder:"Enter "+t,value:n,onChange:function(e){a&&a(e.target.value)}})]})}var b=n(6);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(b.a)(Array(e).keys()).map((function(e){return e+t}))}var h={starsInner:{width:"".concat(110,"px")},starsEmptyInner:{position:"absolute",width:"".concat(110,"px")},starsOuter:{overflow:"hidden"},star:{padding:"1px"}},f=function(e){return Math.floor(110*e/5)},p=function(e){var t=e.rating,n=e.onRate,a={width:"".concat(f(t),"px")};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{style:h.starsOuter,children:Object(o.jsxs)("div",{id:"rate-container",style:a,children:[Object(o.jsx)("div",{style:h.starsEmptyInner,children:m(5,1).map((function(e){return Object(o.jsx)("i",{className:"fa fa-star-o fa-lg",onClick:function(){return n(e)},style:h.star},e)}))}),Object(o.jsx)("div",{style:h.starsInner,children:m(5,1).map((function(e){return Object(o.jsx)("i",{className:"fa fa-star fa-lg","data-testid":"star-item",onClick:function(){return n(e)},style:h.star},e)}))})]})})})};function v(e){var t=e.onClick;return Object(o.jsxs)("div",{style:{cursor:"pointer",paddingTop:"7rem",paddingBottom:"7rem",textAlign:"center"},onClick:function(){t()},children:[Object(o.jsx)("div",{style:{fontSize:"8rem"},children:"+"}),Object(o.jsx)("div",{className:"button-label"})]})}var O=n(2);function x(e){var t=e.onSubmit,n=e.onCancel,i=Object(a.useState)(""),r=Object(O.a)(i,2),c=r[0],s=r[1],d=Object(a.useState)(""),u=Object(O.a)(d,2),b=u[0],m=u[1],h=Object(a.useState)(""),f=Object(O.a)(h,2),p=f[0],v=f[1],x=Object(a.useState)(""),g=Object(O.a)(x,2),y=g[0],N=g[1];return Object(o.jsxs)("form",{className:"p-4 ",children:[Object(o.jsx)(j,{name:"Url",setter:s}),Object(o.jsx)(j,{name:"Title",setter:m}),Object(o.jsx)(j,{name:"Subtitle",setter:v}),Object(o.jsx)(j,{name:"Description",setter:N}),Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)(l,{onClick:function(){t({imageUrl:c,title:b,subtitle:p,description:y})},children:"Submit"}),Object(o.jsx)(l,{onClick:function(){n()},children:"Cancel"})]})]})}function g(e){if(0===e.ratings.length)return 0;var t,n=e.ratings.reduce((function(e,t){return e+t}))/e.ratings.length;return t=n,Math.round(100*(t+Number.EPSILON))/100}var y=n(4),N=n.n(y),k=n(8),C=n(3),w=n(23),S=function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(20));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var _=i.a.createContext(void 0),A=function(e){var t=e.children,n=function(){var e=Object(a.useReducer)((function(e,t){switch(t.type){case"fetch":return Object(C.a)(Object(C.a)({},e),{},{movies:t.payload.data,initialized:!0});case"add":var n=Object(C.a)(Object(C.a)({},t.payload.movie),{},{id:Object(w.a)(),ratings:[]}),a=Object(b.a)(e.movies);return a.push(n),Object(C.a)(Object(C.a)({},e),{},{movies:a});case"delete":var i=Object(b.a)(e.movies.filter((function(e){return e.id!==t.payload.movieId})));return Object(C.a)(Object(C.a)({},e),{},{movies:i});case"rate":return Object(C.a)({},e);default:return e}}),{movies:[],initialized:!1}),t=Object(O.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,i({type:"fetch",payload:{data:t}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),[n,i]}(),i=Object(O.a)(n,2),r=i[0],c=r.initialized,s=r.movies,l=i[1];return Object(o.jsx)(_.Provider,{value:{movies:s,moviesDispatch:l},children:c?t:Object(o.jsx)("div",{children:"loading..."})})},F=function(){var e=Object(a.useContext)(_);if(!e)throw new Error("Component beyond MovieContext!");return e},I=function(e){var t=e.movie,n=F().moviesDispatch;return Object(o.jsxs)("div",{"data-testid":"movie-item",children:[Object(o.jsx)("img",{src:t.imageUrl,className:"card-img-top",alt:""}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h4",{className:"card-title",children:t.title}),t.subtitle,Object(o.jsx)("h6",{className:"card-subtitle mb-2 text-muted"}),Object(o.jsx)("p",{className:"text-justify",style:{fontSize:"14px"},children:t.description}),Object(o.jsx)(l,{onClick:function(){return function(e){var t={type:"delete",payload:{movieId:e.id}};n(t)}(t)},children:"Delete"})]}),Object(o.jsx)("div",{className:"card-footer",children:Object(o.jsxs)("div",{className:"clearfix",children:[Object(o.jsx)("div",{className:"float-left mt-1",children:p({rating:g(t),onRate:function(){return 5}})}),g(t),Object(o.jsx)("div",{className:"card-footer-badge float-right badge badge-primary badge-pill"})]})})]})},E=function(){var e=F(),t=e.movies,n=e.moviesDispatch,i=Object(a.useState)("button"),r=Object(O.a)(i,2),c=r[0],s=r[1];function l(){s("button"===c?"form":"button")}return Object(o.jsxs)("div",{className:"card-deck",children:[t.map((function(e){return Object(o.jsx)(d,{children:Object(o.jsx)(I,{movie:e},e.id)},e.id)})),Object(o.jsx)(d,{children:"button"===c?Object(o.jsx)(v,{onClick:function(){l()}}):Object(o.jsx)(x,{onSubmit:function(e){!function(e){var t={type:"add",payload:{movie:{title:e.title,subtitle:e.subtitle,description:e.description,imageUrl:e.imageUrl}}};n(t)}(e)},onCancel:function(){return l()}})})]})};var U=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(u,{title:"React Movie Management Application"}),Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)(A,{children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("div",{className:"d-flex flex-row",children:Object(o.jsx)("div",{className:"col-sm-12",children:Object(o.jsx)(E,{})})})})})})]})};c.a.render(Object(o.jsx)(U,{}),document.getElementById("root")),s()}},[[21,1,2]]]);
//# sourceMappingURL=main.48ed603e.chunk.js.map